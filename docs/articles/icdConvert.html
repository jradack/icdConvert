<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="icdConvert">
<title>icdConvert - How to Use the Package • icdConvert</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="icdConvert - How to Use the Package">
<meta property="og:description" content="icdConvert">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">icdConvert</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/icdConvert.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>icdConvert - How to Use the Package</h1>
            
      
      
      <div class="d-none name"><code>icdConvert.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="installing-icdconvert">Installing <code>icdConvert</code><a class="anchor" aria-label="anchor" href="#installing-icdconvert"></a>
</h2>
<p>The package can be installed from github with the
<code>devtools</code> package using the following command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/jradack/icdConvert"</span><span class="op">)</span></span></code></pre></div>
<p>You might get a warning about needing Rtools to build the package,
but you should be able to ignore this.</p>
<p>Then it can be loaded like any other R package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">icdConvert</span><span class="op">)</span></span></code></pre></div>
<p>The package contains three primary functions(<code>map_code</code>,
<code>get_description</code>, and <code>map_describe</code>) and a
dataframe (<code>example_data_icd9_pc</code>). The example dataframe has
the character column <code>icd9_pc</code>, which is a list of ICD-9
procedure codes.</p>
<table class="table">
<thead><tr class="header">
<th align="left">x</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">456</td>
</tr>
<tr class="even">
<td align="left">4561</td>
</tr>
<tr class="odd">
<td align="left">4562</td>
</tr>
<tr class="even">
<td align="left">4563</td>
</tr>
<tr class="odd">
<td align="left">457</td>
</tr>
<tr class="even">
<td align="left">4571</td>
</tr>
<tr class="odd">
<td align="left">4572</td>
</tr>
<tr class="even">
<td align="left">4573</td>
</tr>
<tr class="odd">
<td align="left">4574</td>
</tr>
<tr class="even">
<td align="left">4575</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="function-demos">Function demos<a class="anchor" aria-label="anchor" href="#function-demos"></a>
</h2>
<div class="section level3">
<h3 id="get_description">
<code>get_description</code><a class="anchor" aria-label="anchor" href="#get_description"></a>
</h3>
<p>Suppose we have the ICD-9 procedure code <code>1421</code>. We can
get it’s description using the <code>get_description</code> command.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">get_description_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_description.html">get_description</a></span><span class="op">(</span><span class="st">"1421"</span>, icdVer <span class="op">=</span> <span class="fl">9</span>, code_type <span class="op">=</span> <span class="st">"pc"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">codes</th>
<th align="left">desc</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">1421</td>
<td align="left">Destruction of chorioretinal lesion by diathermy</td>
</tr></tbody>
</table>
<p>This function takes a list of ICD codes and gets the code
descriptions using CMS provided tables. For consistency with the GEM
files, the 2018 version of the tables were used for ICD-10.</p>
</div>
<div class="section level3">
<h3 id="map_code">
<code>map_code</code><a class="anchor" aria-label="anchor" href="#map_code"></a>
</h3>
<p>Next, suppose we would like to map the ICD-9 procedure code
<code>1421</code> to ICD-10. We can use the <code>map_code</code>
function, which takes a vector or ICD codes and converts them to the
desired ICD version. The user must specify the destination ICD version
(i.e. which ICD version they want to convert the codes to) and the type
of code being converted (<code>"dg"</code> for diagnosis codes,
<code>"pc"</code> for procedure codes). This package handles one-to-many
mappings of codes, as well as implementing the four methods of mapping
codes, as outlined in the <code>touch</code> package. The four methods
are <code>"gem"</code>, <code>"reverse-gem"</code>, <code>"both"</code>,
and <code>"multi-stage"</code>. <code>"gem"</code> performs a single
forward map</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_code_test_gem</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_code.html">map_code</a></span><span class="op">(</span><span class="st">"1421"</span>, icdVer_dest <span class="op">=</span> <span class="fl">10</span>, code_type <span class="op">=</span> <span class="st">"pc"</span>, method <span class="op">=</span> <span class="st">"gem"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="12%">
<col width="11%">
<col width="14%">
<col width="8%">
<col width="14%">
<col width="11%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th align="left">src_code</th>
<th align="left">dest_code</th>
<th align="left">map_code</th>
<th align="left">approximate</th>
<th align="left">no_map</th>
<th align="left">combination</th>
<th align="left">scenario</th>
<th align="left">choice_lists</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1421</td>
<td align="left">085E3ZZ</td>
<td align="left">10000</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">1421</td>
<td align="left">085F3ZZ</td>
<td align="left">10000</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
</tbody>
</table>
<p><code>"reverse-gem"</code> performs a single reverse map, in this
case finding all ICD-10 codes that map to the ICD-9 code that we pass.
The following are the first 10 results for ICD-9 procedure code
<code>142</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_code_test_reverse_gem</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_code.html">map_code</a></span><span class="op">(</span><span class="st">"142"</span>, icdVer_dest <span class="op">=</span> <span class="fl">10</span>, code_type <span class="op">=</span> <span class="st">"pc"</span>, method <span class="op">=</span> <span class="st">"reverse-gem"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="10%">
<col width="11%">
<col width="10%">
<col width="13%">
<col width="8%">
<col width="13%">
<col width="10%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">src_code</th>
<th align="left">dest_code</th>
<th align="left">map_code</th>
<th align="left">approximate</th>
<th align="left">no_map</th>
<th align="left">combination</th>
<th align="left">scenario</th>
<th align="left">choice_lists</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">142</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.3</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.4</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.6</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.7</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.8</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p><code>"both"</code> performs the <code>"gem"</code> and
<code>"reverse-gem"</code> mappings and combines the results.</p>
<p><code>"multi-stage"</code> performs the multi-stage mapping that the
<code>icd_convert</code> function in the <code>touch</code> package
performs. See <a href="https://cran.r-project.org/web/packages/touch/touch.pdf" class="external-link">here</a>
for details on how the mapping is done. The following are the first 10
results for ICD-9 procedure code <code>1421</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_code_test_multi_stage</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_code.html">map_code</a></span><span class="op">(</span><span class="st">"1421"</span>, icdVer_dest <span class="op">=</span> <span class="fl">10</span>, code_type <span class="op">=</span> <span class="st">"pc"</span>, method <span class="op">=</span> <span class="st">"multi-stage"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">src_code</th>
<th align="left">dest_code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">1421</td>
<td align="left">085E3ZZ</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">1421</td>
<td align="left">085F3ZZ</td>
</tr>
<tr class="odd">
<td align="left">27</td>
<td align="left">1421</td>
<td align="left">08BE3ZZ</td>
</tr>
<tr class="even">
<td align="left">28</td>
<td align="left">1421</td>
<td align="left">08BF3ZZ</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.1</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.2</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.3</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.4</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.5</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>The mapping is performed using General Equivalence Mapping (GEM)
files provided by <a href="https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes" class="external-link">CMS</a>.
This package uses the 2018 version of the GEMs files which were the last
year which the GEMs files were updated (see <a href="https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM" class="external-link">here</a>):</p>
<blockquote>
<p>As stated in the FY 2016 IPPS/LTCH PPS final rule (80 FR 49388), the
GEMs have been updated on an annual basis as part of the ICD-10
Coordination and Maintenance Committee meetings process and will
continue to be updated for approximately 3 years after ICD-10 is
implemented.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="map_describe">
<code>map_describe</code><a class="anchor" aria-label="anchor" href="#map_describe"></a>
</h3>
<p>Finally, the <code>map_describe</code> function combines the
functionality of <code>map_code</code> and <code>get_description</code>
into one. It maps the codes to the desired ICD version and gets the
corresponding descriptions for the mapped codes. The following are the
first 10 results for ICD-9 procedure code <code>1421</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_describe_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_describe.html">map_describe</a></span><span class="op">(</span><span class="st">"1421"</span>, icdVer_dest <span class="op">=</span> <span class="fl">10</span>, code_type <span class="op">=</span> <span class="st">"pc"</span>, method <span class="op">=</span> <span class="st">"multi-stage"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="7%">
<col width="39%">
<col width="8%">
<col width="41%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">src_code</th>
<th align="left">src_desc</th>
<th align="left">dest_code</th>
<th align="left">dest_desc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">1421</td>
<td align="left">Destruction of chorioretinal lesion by diathermy</td>
<td align="left">085E3ZZ</td>
<td align="left">Destruction of Right Retina, Percutaneous Approach</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">1421</td>
<td align="left">Destruction of chorioretinal lesion by diathermy</td>
<td align="left">085F3ZZ</td>
<td align="left">Destruction of Left Retina, Percutaneous Approach</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">1421</td>
<td align="left">Destruction of chorioretinal lesion by diathermy</td>
<td align="left">08BE3ZZ</td>
<td align="left">Excision of Right Retina, Percutaneous Approach</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">1421</td>
<td align="left">Destruction of chorioretinal lesion by diathermy</td>
<td align="left">08BF3ZZ</td>
<td align="left">Excision of Left Retina, Percutaneous Approach</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.3</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">NA.4</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">NA.5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua Radack.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
